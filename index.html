// Kurd Domena - Online 2 Player Game with Bot and Admin Mode // Made by Akam Ibrahim

import React, { useState, useEffect } from 'react'; import { initializeApp } from 'firebase/app'; import { getDatabase, ref, set, onValue, remove, update, } from 'firebase/database'; import { v4 as uuidv4 } from 'uuid'; import './App.css';

const firebaseConfig = { apiKey: 'AIzaSyDNxue-ah3rpzJ7qIRStFBYxDcXdNqs9Ro', authDomain: 'kurd-domena.firebaseapp.com', projectId: 'kurd-domena', storageBucket: 'kurd-domena.firebasestorage.app', messagingSenderId: '712548950448', appId: '1:712548950448:web:d4542737a9e05611feb675', measurementId: 'G-0CXGG81HCW', databaseURL: 'https://kurd-domena-default-rtdb.firebaseio.com/', };

const app = initializeApp(firebaseConfig); const db = getDatabase(app);

function KurdDomena() { const [gameId, setGameId] = useState(''); const [player, setPlayer] = useState(''); const [gameData, setGameData] = useState({}); const [admin, setAdmin] = useState(false);

const createGame = () => { const newId = uuidv4().split('-')[0]; set(ref(db, 'games/' + newId), { players: { host: 'ready' }, status: 'waiting', }); setGameId(newId); setPlayer('host'); };

const joinGame = (id) => { const gameRef = ref(db, 'games/' + id); onValue(gameRef, (snapshot) => { if (snapshot.exists()) { const data = snapshot.val(); if (!data.players.guest) { set(ref(db, 'games/' + id + '/players/guest'), 'ready'); setGameId(id); setPlayer('guest'); } } }); };

const playWithBot = () => { const botId = uuidv4().split('-')[0]; set(ref(db, 'games/' + botId), { players: { host: 'ready', bot: 'ready' }, status: 'started', }); setGameId(botId); setPlayer('host'); };

useEffect(() => { if (gameId) { const gameRef = ref(db, 'games/' + gameId); const unsub = onValue(gameRef, (snapshot) => { setGameData(snapshot.val()); }); return () => unsub(); } }, [gameId]);

return ( <div className="App"> <h1>Kurd Domena</h1>

{!gameId && (
    <div>
      <button onClick={createGame}>دەستپێکردن (بەڕێوبەر)</button>
      <br />
      <input
        placeholder="کۆدی یاری داخڵ بکە"
        onChange={(e) => setGameId(e.target.value)}
      />
      <button onClick={() => joinGame(gameId)}>پەیوەندیکردن</button>
      <br />
      <button onClick={playWithBot}>یاری لەگەڵ ڕۆبۆت</button>
      <br />
      <button onClick={() => setAdmin(true)}>بەشی بەڕێوەبەری</button>
    </div>
  )}

  {gameId && (
    <div>
      <h3>کۆدی یاری: {gameId}</h3>
      <p>نەخشەی یاری لەژێر دەربکەیت بە زووترین کات</p>
      {/* GameBoard component will be added here */}
    </div>
  )}

  {admin && !gameId && (
    <div>
      <h3>بەشی بەڕێوەبەری</h3>
      <p>ئەم بەشە تایبەتە بە بەڕێوەبەرەکانە</p>
      {/* AdminPanel component can be added here */}
    </div>
  )}

  <footer>
    <small>درووستکراوە لەلایەن Akam Ibrahim</small>
  </footer>
</div>

); }

export default KurdDomena;

